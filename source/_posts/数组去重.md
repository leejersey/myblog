---
title: 数组去重
date: 2018-12-06 14:52:22
tags: js
---
# ES5方法

## 方法一（indexOf）
```javascript
function uniq(array){
    var temp = []; //一个新的临时数组
    for(var i = 0; i < array.length; i++){
        if(temp.indexOf(array[i]) == -1){
            temp.push(array[i]);
        }
    }
    return temp;
}

var arr = [1,2,2,4,9,6,7,5,2,3,5,6,5];
console.log(uniq(arr));
```

## 方法二（hashtable利用对象的属性唯一)
```javascript
function uniq(array){
  var result=[],
      hash={};
  array.forEach(function(item){
    if(!hash[item]){
      result.push(item);
      hash[item] = true;
    }
  });
  return result;
}

var arr = [1,2,2,4,9,6,7,5,2,3,5,6,5];
console.log(uniq(arr));
```

复杂数据结构处理
```javascript
function uniq(array){
  var unique={};
  array.forEach(function(item){
    unique[JSON.stringify(item)] = item;
  });

  array = Object.keys(unique).map(function(data){
    return JSON.parse(data)
  });
  return array;
}
var arr = [
  {name: 'lee', from:'beijing'},
  {name: 'jersey', from: 'shanghai'},
  {name: 'tom',from:'beijing'},
  {name: 'jersey', from: 'shanghai'}
]
console.log(uniq(arr))
```

# ES6方法

## ES6 Set去重
```javascript
function uniq (array) {
  return Array.from(new Set(array))
}
var arr = [1,2,2,4,9,6,7,5,2,3,5,6,5];
console.log(uniq(arr))
```

## ES6 [...new Set(arr)]

```javascript
[...new Set(arr)]
var arr = [1,2,2,4,9,6,7,5,2,3,5,6,5];
console.log([...new Set(arr)])
```
